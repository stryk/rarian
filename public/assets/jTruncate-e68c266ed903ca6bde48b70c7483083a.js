!function(e){e.fn.jTruncate=function(n){var t={length:300,minTrail:20,moreText:"more",lessText:"less",ellipsisText:"...",moreAni:"",lessAni:""},n=e.extend(t,n);return this.each(function(){obj=e(this);var t=obj.html();if(t.length>n.length+n.minTrail){var s=t.indexOf(" ",n.length);if(-1!=s){var s=t.indexOf(" ",n.length),i=t.substring(0,s),r=t.substring(s,t.length-1);obj.html(i+'<span class="truncate_ellipsis">'+n.ellipsisText+"</span>"+'<span class="truncate_more">'+r+"</span>"),obj.find(".truncate_more").css("display","none"),obj.append('<div class="clearboth"><a href="#" class="truncate_more_link">'+n.moreText+"</a>"+"</div>");var l=e(".truncate_more_link",obj),a=e(".truncate_more",obj),o=e(".truncate_ellipsis",obj);l.click(function(){return l.text()==n.moreText?(a.show(n.moreAni),l.text(n.lessText),o.css("display","none")):(a.hide(n.lessAni),l.text(n.moreText),o.css("display","inline")),!1})}}})}}(jQuery);