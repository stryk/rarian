!function(l){function t(l){return l.replace(/(:|\.)/g,"\\$1")}var o="1.4.5",e={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2},n=function(t){var o=[],e=!1,n=t.dir&&"left"==t.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var t=l(this);t[n]()>0?o.push(this):(t[n](1),e=t[n]()>0,t[n](0),e&&o.push(this))}}),"first"===t.el&&o.length&&(o=[o[0]]),o},r="ontouchend"in document;l.fn.extend({scrollable:function(l){var t=n.call(this,{dir:l});return this.pushStack(t)},firstScrollable:function(l){var t=n.call(this,{el:"first",dir:l});return this.pushStack(t)},smoothScroll:function(o){o=o||{};var e=l.extend({},l.fn.smoothScroll.defaults,o),n=l.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(o){var r=this,s=l(this),c=e.exclude,i=e.excludeWithin,a=0,f=0,h=!0,u={},d=location.hostname===r.hostname||!r.hostname,m=e.scrollTarget||(l.smoothScroll.filterPath(r.pathname)||n)===n,p=t(r.hash);if(e.scrollTarget||d&&m&&p){for(;h&&a<c.length;)s.is(t(c[a++]))&&(h=!1);for(;h&&f<i.length;)s.closest(i[f++]).length&&(h=!1)}else h=!1;h&&(o.preventDefault(),l.extend(u,e,{scrollTarget:e.scrollTarget||p,link:r}),l.smoothScroll(u))}),this}}),l.smoothScroll=function(t,o){var e,n,s,c,i=0,a="offset",f="scrollTop",h={},u={},d=!1,m=[];"number"==typeof t?(e=l.fn.smoothScroll.defaults,s=t):(e=l.extend({},l.fn.smoothScroll.defaults,t||{}),e.scrollElement&&(a="position","static"==e.scrollElement.css("position")&&e.scrollElement.css("position","relative")),s=o||l(e.scrollTarget)[a]()&&l(e.scrollTarget)[a]()[e.direction]||0),e=l.extend({link:null},e),f="left"==e.direction?"scrollLeft":f,e.scrollElement?(n=e.scrollElement,i=n[f]()):(n=l("html, body").firstScrollable(),d=r&&"scrollTo"in window),h[f]=s+i+e.offset,e.beforeScroll.call(n,e),d?(m="left"==e.direction?[h[f],0]:[0,h[f]],window.scrollTo.apply(window,m),e.afterScroll.call(e.link,e)):(c=e.speed,"auto"===c&&(c=h[f]||n.scrollTop(),c/=e.autoCoefficent),u={duration:c,easing:e.easing,complete:function(){e.afterScroll.call(e.link,e)}},e.step&&(u.step=e.step),n.stop().animate(h,u))},l.smoothScroll.version=o,l.smoothScroll.filterPath=function(l){return l.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},l.fn.smoothScroll.defaults=e}(jQuery);